package ExceptionHandlingandFileHandling;
import java.io.File;
import java.io.IOException;
import java.util.Scanner;

public class FileCreationMainClass {

	String filesFolder = ("D:\\soft\\FileCreation\\");
	Scanner sc = new Scanner(System.in);
	String updatedFileName;

	public static void main(String[] args) {
		FileCreationMainClass ef = new FileCreationMainClass();
		ef.fileCreationOrDeletion();
		//ef.FilesInFolder();
	}

	public void fileCreationOrDeletion() {
		try {

			System.out.println("enter the filename which either to create or delete ");
			String fileName = sc.nextLine();
			String fileLocation = filesFolder + fileName;
			File f = new File(fileLocation);

			if (f.exists()) {

				System.out.println(fileName + " file already exists in " + fileLocation);
				FilesInFolder();			System.out.println("enter file name to delete ");
				updatedFileName=sc.nextLine();
				String updatedFileName1=fileName;
				
				if(updatedFileName1==fileName)
				{
					System.out.println();
				}
				else
				{
					
				}
				System.out.println("you want to delete the file :" + fileName + "?  if yes press 1, if not press 0 ");
				int status = sc.nextInt();
				if (status == 1) {
					if (f.delete()) {
						System.out.println("File : " + f.getName() + " has been deleted !!");
						System.out.println("please verify once in this  path: " + f.getAbsolutePath());
					}
				} else if (status == 0) {
					
					System.out.println("skipping file Deletion ");
				} else {
					System.out.println("please choose correct option");
				}
			} else {

				System.out.println(fileName + " File is not exits in following folder  " + filesFolder );
                System.out.println("Press 0 to see other files in the Folder " +" or Press 1 to Create "+fileName +" Create it" );
				
				//fileCreationOrDeletion();
				//updatedFileName=fileName;
				int status = sc.nextInt();
				if (status == 1  ) {
					if (f.createNewFile()) {
						System.out.println("File : " + f.getName() + " has been created for you!!");
						System.out.println("please verify once in this  path: " + f.getAbsolutePath());
					}    
				} else if (status == 0) {
					FilesInFolder();
					System.exit(0);
					System.out.println(" exiting from the services ");
				} else {
					System.out.println("please choose correct option");
				}

			}

		} catch (IOException e) {
			System.out.println("An error occurred.");
			e.printStackTrace();
		}
	}
	

	public void FilesInFolder()
	{
		//String filesFolder = ("D:\\soft\\FileCreation\\");
		File f = new File(filesFolder);
		File[] farr = f.listFiles();
		if (f.exists() && f.isDirectory()) {
			System.out.print("files present in following the Folder  "+filesFolder +" were ");
			if (farr != null) {
    
				for (File file : farr) {
					System.out.print(file.getName()+" ,");
				}
				System.out.println(" end of the program ");
			} else {
				System.out.println("files were not found");
			}
		} else {
			System.out.println("Folder was not found in the mentioned   path" + " " + filesFolder);
		}

	}

}
